{"ast":null,"code":"import{useConnect}from\"@stacks/connect-react\";import{StacksTestnet}from\"@stacks/network\";import{AnchorMode,PostConditionMode,stringUtf8CV}from\"@stacks/transactions\";import{userSession}from\"./ConnectWallet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ContractCallVote=()=>{const{doContractCall}=useConnect();function vote(pick){doContractCall({network:new StacksTestnet(),anchorMode:AnchorMode.Any,contractAddress:\"ST39MJ145BR6S8C315AG2BD61SJ16E208P1FDK3AK\",contractName:\"example-fruit-vote-contract\",functionName:\"vote\",functionArgs:[stringUtf8CV(pick)],postConditionMode:PostConditionMode.Deny,postConditions:[],onFinish:data=>{console.log(\"onFinish:\",data);window.open(`https://explorer.stacks.co/txid/${data.txId}?chain=testnet`,\"_blank\").focus();},onCancel:()=>{console.log(\"onCancel:\",\"Transaction was canceled\");}});}if(!userSession.isUserSignedIn()){return null;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vote via Smart Contract\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Vote\",onClick:()=>vote(\"üçä\"),children:\"Vote for \\uD83C\\uDF4A\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Vote\",onClick:()=>vote(\"üçé\"),children:\"Vote for \\uD83C\\uDF4E\"})]});};export default ContractCallVote;","map":{"version":3,"names":["useConnect","StacksTestnet","AnchorMode","PostConditionMode","stringUtf8CV","userSession","jsx","_jsx","jsxs","_jsxs","ContractCallVote","doContractCall","vote","pick","network","anchorMode","Any","contractAddress","contractName","functionName","functionArgs","postConditionMode","Deny","postConditions","onFinish","data","console","log","window","open","txId","focus","onCancel","isUserSignedIn","children","className","onClick"],"sources":["C:/Users/abasi/Desktop/web3-apps/react-cra/src/components/ContractCallVote.js"],"sourcesContent":["import { useConnect } from \"@stacks/connect-react\";\nimport { StacksTestnet } from \"@stacks/network\";\nimport {\n  AnchorMode,\n  PostConditionMode,\n  stringUtf8CV,\n} from \"@stacks/transactions\";\nimport { userSession } from \"./ConnectWallet\";\n\nconst ContractCallVote = () => {\n  const { doContractCall } = useConnect();\n\n  function vote(pick) {\n    doContractCall({\n      network: new StacksTestnet(),\n      anchorMode: AnchorMode.Any,\n      contractAddress: \"ST39MJ145BR6S8C315AG2BD61SJ16E208P1FDK3AK\",\n      contractName: \"example-fruit-vote-contract\",\n      functionName: \"vote\",\n      functionArgs: [stringUtf8CV(pick)],\n      postConditionMode: PostConditionMode.Deny,\n      postConditions: [],\n      onFinish: (data) => {\n        console.log(\"onFinish:\", data);\n        window\n          .open(\n            `https://explorer.stacks.co/txid/${data.txId}?chain=testnet`,\n            \"_blank\"\n          )\n          .focus();\n      },\n      onCancel: () => {\n        console.log(\"onCancel:\", \"Transaction was canceled\");\n      },\n    });\n  }\n\n  if (!userSession.isUserSignedIn()) {\n    return null;\n  }\n\n  return (\n    <div>\n      <p>Vote via Smart Contract</p>\n      <button className=\"Vote\" onClick={() => vote(\"üçä\")}>\n        Vote for üçä\n      </button>\n      <button className=\"Vote\" onClick={() => vote(\"üçé\")}>\n        Vote for üçé\n      </button>\n    </div>\n  );\n};\n\nexport default ContractCallVote;\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,uBAAuB,CAClD,OAASC,aAAa,KAAQ,iBAAiB,CAC/C,OACEC,UAAU,CACVC,iBAAiB,CACjBC,YAAY,KACP,sBAAsB,CAC7B,OAASC,WAAW,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAEC,cAAe,CAAC,CAAGX,UAAU,CAAC,CAAC,CAEvC,QAAS,CAAAY,IAAIA,CAACC,IAAI,CAAE,CAClBF,cAAc,CAAC,CACbG,OAAO,CAAE,GAAI,CAAAb,aAAa,CAAC,CAAC,CAC5Bc,UAAU,CAAEb,UAAU,CAACc,GAAG,CAC1BC,eAAe,CAAE,2CAA2C,CAC5DC,YAAY,CAAE,6BAA6B,CAC3CC,YAAY,CAAE,MAAM,CACpBC,YAAY,CAAE,CAAChB,YAAY,CAACS,IAAI,CAAC,CAAC,CAClCQ,iBAAiB,CAAElB,iBAAiB,CAACmB,IAAI,CACzCC,cAAc,CAAE,EAAE,CAClBC,QAAQ,CAAGC,IAAI,EAAK,CAClBC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEF,IAAI,CAAC,CAC9BG,MAAM,CACHC,IAAI,CACF,mCAAkCJ,IAAI,CAACK,IAAK,gBAAe,CAC5D,QACF,CAAC,CACAC,KAAK,CAAC,CAAC,CACZ,CAAC,CACDC,QAAQ,CAAEA,CAAA,GAAM,CACdN,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,0BAA0B,CAAC,CACtD,CACF,CAAC,CAAC,CACJ,CAEA,GAAI,CAACtB,WAAW,CAAC4B,cAAc,CAAC,CAAC,CAAE,CACjC,MAAO,KAAI,CACb,CAEA,mBACExB,KAAA,QAAAyB,QAAA,eACE3B,IAAA,MAAA2B,QAAA,CAAG,yBAAuB,CAAG,CAAC,cAC9B3B,IAAA,WAAQ4B,SAAS,CAAC,MAAM,CAACC,OAAO,CAAEA,CAAA,GAAMxB,IAAI,CAAC,IAAI,CAAE,CAAAsB,QAAA,CAAC,uBAEpD,CAAQ,CAAC,cACT3B,IAAA,WAAQ4B,SAAS,CAAC,MAAM,CAACC,OAAO,CAAEA,CAAA,GAAMxB,IAAI,CAAC,IAAI,CAAE,CAAAsB,QAAA,CAAC,uBAEpD,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}