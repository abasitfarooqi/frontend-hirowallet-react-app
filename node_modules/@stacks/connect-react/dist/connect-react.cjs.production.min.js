"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,n,e=require("react"),i=(t=e)&&"object"==typeof t&&"default"in t?t.default:t,a=require("@stacks/connect");function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}(n||(n={})).UPDATE_AUTH_OPTIONS="data/update-auth-options";var o={isOpen:!1,isAuthenticating:!1,authData:void 0,userSession:void 0,authOptions:{redirectTo:"",manifestPath:"",onFinish:function(){return null},authOrigin:void 0,sendToSignIn:!1,appDetails:{name:"",icon:""}}},u=function(t,e){var i=e.type,a=e.payload;switch(i){case n.UPDATE_AUTH_OPTIONS:return r({},t,{authOptions:r({},t.authOptions,a)});default:throw new Error("Unhandled action type: "+i)}},s=e.createContext(o),p=e.createContext(void 0),c=function(t){var n=t.authOptions,a=t.children,c=e.useReducer(u,o),h=c[1];return i.createElement(s.Provider,{value:r({},c[0],{authOptions:n})},i.createElement(p.Provider,{value:h},a))};Object.keys(a).forEach((function(t){"default"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return a[t]}})})),exports.Connect=function(t){return i.createElement(c,{authOptions:t.authOptions},t.children)},exports.useConnect=function(){var t=e.useContext(s),i=t.isOpen,o=t.isAuthenticating,u=t.authData,c=t.authOptions,h=t.userSession,l=function(){var t=e.useContext(p);if(!t)throw new Error("This must be used within the ConnectProvider component.");return t}();return{isOpen:i,isAuthenticating:o,authData:u,authOptions:c,userSession:h,doOpenAuth:function(t,e){if(t){var i=r({},c,e,{onFinish:function(t){null==c.onFinish||c.onFinish(t)},sendToSignIn:!0});a.authenticate(i)}else a.showBlockstackConnect(r({},c,{sendToSignIn:!1})),c&&l({type:n.UPDATE_AUTH_OPTIONS,payload:c})},doAuth:function(t){void 0===t&&(t={}),a.authenticate(r({},c,t,{onFinish:function(t){null==c.onFinish||c.onFinish(t)}}))},authenticate:a.authenticate,doContractCall:function(t){return a.openContractCall(r({},t,{authOrigin:c.authOrigin,appDetails:c.appDetails}))},doContractDeploy:function(t){return a.openContractDeploy(r({},t,{authOrigin:c.authOrigin,appDetails:c.appDetails}))},doSTXTransfer:function(t){return a.openSTXTransfer(r({},t,{authOrigin:c.authOrigin,appDetails:c.appDetails}))},doProfileUpdate:function(t){return a.openProfileUpdateRequestPopup(r({},t,{authOrigin:c.authOrigin,appDetails:c.appDetails}))},sign:function(t){return a.openSignatureRequestPopup(r({},t,{authOrigin:c.authOrigin,appDetails:c.appDetails}))},signStructuredData:function(t){return a.openStructuredDataSignatureRequestPopup(r({},t,{authOrigin:c.authOrigin,appDetails:c.appDetails}))}}};
//# sourceMappingURL=connect-react.cjs.production.min.js.map
